# Система Управления Складом

Этот проект представляет собой симуляцию системы управления складом, которая включает фабрики, склады и грузовики. Он моделирует процессы производства, хранения и доставки продуктов, реализуя классы для каждой из этих сущностей и предоставляя методы для их взаимодействия.

## Структура проекта

Проект включает следующие основные компоненты:

1. **Product** - Класс продукта, содержащий характеристики товара, такие как имя, вес, тип упаковки и количество.
2. **Warehouse** - Класс склада, который имеет определенную вместимость и может хранить, управлять и отгружать продукцию.
3. **Factory** - Класс фабрики, представляющий производство товаров и их отправку на склады.
4. **Truck** - Класс грузовика, который перевозит продукцию со склада в магазины.

## Описание Классов и Методов

### 1. Класс Product (Продукт)

Класс `Product` представляет отдельный товар.

- **Атрибуты**:
    - `name`: Название продукта.
    - `weight`: Вес одной единицы продукта.
    - `packaging`: Тип упаковки продукта.
    - `quantity`: Количество единиц продукта.

- **Методы**:
    - `Product(const std::string& name, double weight, const std::string& packaging, size_t quantity)`: Конструктор для инициализации всех атрибутов продукта.
    - `Product()`: Конструктор по умолчанию, инициализирует пустой продукт.

### 2. Класс Warehouse (Склад)

Класс `Warehouse` моделирует склад с возможностью хранения и управления продукцией.

- **Атрибуты**:
    - `name`: Название склада.
    - `capacity`: Общая вместимость склада.
    - `current_load`: Текущая загруженность склада.
    - `inventory`: Карта продуктов, хранящихся на складе, с их именами и количеством.
    - `arrival_log`: Журнал поступлений продукции.

- **Методы**:
    - `Warehouse(const std::string& name, size_t capacity)`: Конструктор, инициализирующий склад с заданной вместимостью.
    - `size_t getFreeSpace() const`: Возвращает количество свободного места на складе.
    - `bool storeProduct(const Product& product)`: Сохраняет продукт на складе, если есть свободное место, и добавляет запись в журнал поступлений.
    - `std::map<std::string, Product> unload(const std::string& product_name, size_t max_quantity)`: Отгружает продукт с указанным количеством.
    - `std::string getName() const`: Возвращает имя склада.
    - `size_t getProductQuantity(const std::string& product_name) const`: Возвращает количество продукта с указанным именем.
    - `void printArrivalLog() const`: Выводит журнал поступлений на склад.
    - `bool isOverloaded() const`: Проверяет, не перегружен ли склад (если заполнен на 95% или более).
    - `void startAutoUnload(std::vector<Truck*>& trucks, const std::string& shop_name)`: Запускает автоматическую разгрузку, если склад перегружен.
    - `void autoUnload(std::vector<Truck*>& trucks, const std::string& shop_name)`: Реализует логику автоматической разгрузки продукции из перегруженного склада в грузовики.
    - `void recordArrival(const Product& product)`: Добавляет информацию о поступившей продукции в журнал поступлений.

### 3. Класс Factory (Фабрика)

Класс `Factory` моделирует производство продукции и хранение на складах.

- **Атрибуты**:
    - `name`: Название производимого продукта.
    - `weight`: Вес единицы продукта.
    - `packaging`: Тип упаковки.
    - `production_rate`: Количество продукции, производимой за один цикл.

- **Методы**:
    - `Factory(const std::string& name, double weight, const std::string& packaging, int production_rate)`: Конструктор, инициализирующий параметры производства.
    - `void storage(std::vector<Warehouse*>& warehouses)`: Передает продукцию на склады; если вся партия не помещается на один склад, распределяет по нескольким.
    - `Product createProduct()`: Создает объект `Product` с заданными характеристиками фабрики.

### 4. Класс Truck (Грузовик)

Класс `Truck` моделирует грузовик, перевозящий продукцию со склада в магазин.

- **Атрибуты**:
    - `name`: Название грузовика.
    - `max_capacity`: Максимальная вместимость.
    - `product_count`: Текущее количество продукции в грузовике.
    - `total_delivered`: Общее количество доставленной продукции.
    - `delivered_products`: Карта доставленных продуктов с их количеством.

- **Методы**:
    - `Truck(const std::string& name, size_t max_capacity)`: Конструктор, инициализирующий грузовик с заданной вместимостью.
    - `void loadProduct(const std::string& product_name, size_t count)`: Загружает указанное количество продукта в грузовик, если есть свободное место.
    - `void unloadProduct(const std::string& shop_name)`: Выгружает все товары из грузовика в указанный магазин.
    - `void deliver(Warehouse* warehouse, const std::string& shop_name, const std::map<std::string, size_t>& requests)`: Выполняет доставку продуктов по запросу магазина с одного склада.
    - `void deliver(const std::vector<Warehouse*>& warehouses, const std::string& shop_name, const std::map<std::string, size_t>& requests)`: Выполняет доставку по запросу, распределяя продукцию по нескольким складам, если один склад не может выполнить весь заказ.
    - `void printStatistics() const`: Выводит статистику доставленных грузовиком товаров.

## Использование

1. **Инициализация складов**: Создайте объекты класса `Warehouse` для моделирования складов.
2. **Инициализация фабрик**: Создайте объекты класса `Factory` для производства продукции и загрузки на склады.
3. **Создание грузовиков**: Инициализируйте объекты `Truck` для перевозки продукции.
4. **Процесс хранения и разгрузки**: Фабрики производят товары и размещают их на складах, в случае перегрузки запускается авторазгрузка с отправкой товаров в магазины.
5. **Доставка в магазин**: Грузовики загружают продукцию со складов по запросу и доставляют её в магазины.

## Запуск

Скомпилируйте и запустите проект, чтобы увидеть процесс взаимодействия между складом, фабрикой и грузовиком. Например, можно создать объекты складов, фабрик и грузовиков, затем вызвать методы хранения, авторазгрузки и доставки.

```cpp
// Пример кода
int main() {
    Warehouse warehouseA("Склад A", 100);
    Warehouse warehouseB("Склад B", 100);
    std::vector<Warehouse*> warehouses = { &warehouseA, &warehouseB };

    Truck truck("Грузовик 1", 1000);
    Truck truck2("Грузовик 2", 1000);
    std::vector<Truck*> trucks = { &truck, &truck2 };

    Factory factory1("Продукт A", 10.0, "Коробка", 90);
    Factory factory2("Продукт 1", 10.0, "Коробка", 90);
    factory1.storage(warehouses);
    factory2.storage(warehouses);
}
